;;;
;;; File: /users/oprs/C/ACS/oprs-1.1/data/test/critical.opf
;;; $Id$
;;; Date: Fri Dec  3 18:20:59 1993
;;; Host: cascade
;;; OP Editor Version : 1.1.15
;;; Compiled on cascade (Thu Dec  2 18:09:02 MET 1993)
;;; OP File Format: 2
;;;
(2 
(
CALLED-CRIT6
CALLED-CRIT7
CALLED-CRIT8
COND6
COND7
COND8
DELAY
END-CRITICAL
START-CRITICAL
SUB-CRIT7T
SUB-CRIT8T
TEST-CRIT1
TEST-CRIT2
TEST-CRIT3
TEST-CRIT3B
TEST-CRIT3T
TEST-CRIT4
TEST-CRIT4B
TEST-CRIT5
TEST-CRIT6
TEST-CRIT6B
TEST-CRIT7
TEST-CRIT7B
TEST-CRIT7T
TEST-CRIT8
TEST-CRIT8B
TEST-CRIT8T
TEST1
TEST2
TEST2B
TEST3
TEST4
TEST5
TEST6
TEST7
TEST8
)
(|Test 1| (
(INVOCATION INVOCATION (TEST1 $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N1 0 0 321 87)
(PROCESS N2 0 0 321 171)
(PROCESS N3 0 0 321 236)
(PROCESS N4 0 0 321 324)
(PROCESS N5 0 0 321 402)
) (
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
(GOAL N2 E3 N3
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N4 E5 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -2 -8 40 0)
(GOAL N1 E2 N2
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT1)))
       (. .)
       (. .)))
()  0 0 40 0)
(GOAL N3 E6 N4
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT1)))
       (. .)
       (. .)))
()  0 0 40 0)
) )
(|Test 2 bis| (
(INVOCATION INVOCATION (TEST2B $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N1 0 1 321 69)
(PROCESS N2 1 0 321 166)
(PROCESS N3 0 0 321 252)
(PROCESS N4 0 0 320 374)
(PROCESS N5 0 0 321 459)
) (
(GOAL N3 E1 N4
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT2)))
       (. .)
       (. .)))
()  3 -8 40 0)
(GOAL N1 E10 N2
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT2)))
       (. .)
       (. .)))
((171 111) )  44 18 40 0)
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
(GOAL N4 E5 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -2 -8 40 0)
(GOAL N1 E4 N2
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT2)))
       (. .)
       (. .)))
((478 104) )  23 26 40 0)
(GOAL N2 E2 N3
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
) )
(|Test 2| (
(INVOCATION INVOCATION (TEST2 $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N1 0 0 321 82)
(PROCESS N2 0 0 321 172)
(PROCESS N3 0 0 321 245)
(PROCESS N4 0 0 321 324)
(PROCESS N5 0 0 321 402)
) (
(GOAL N4 E5 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -2 -8 40 0)
(GOAL N2 E3 N3
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
(GOAL N1 E2 N2
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT2)))
       (. .)
       (. .)))
()  0 0 40 0)
(GOAL N3 E6 N4
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT2)))
       (. .)
       (. .)))
()  0 0 40 0)
) )
(|Test 3| (
(INVOCATION INVOCATION (TEST3 $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N1 0 0 321 87)
(PROCESS N2 0 0 321 171)
(PROCESS N3 0 0 323 257)
(PROCESS N4 0 0 323 356)
) (
(GOAL N2 E1 N3
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT3B)))
       (. .)
       (. .)))
()  0 0 40 0)
(GOAL N3 E6 N4
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT3T)))
       (. .)
       (. .)))
()  0 0 40 0)
(GOAL N1 E2 N2
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT3)))
       (. .)
       (. .)))
()  0 0 40 0)
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
) )
(|Test 4| (
(INVOCATION INVOCATION (TEST4 $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N1 0 0 321 87)
(PROCESS N2 0 0 321 171)
(PROCESS N3 0 0 321 242)
(PROCESS N4 0 0 321 347)
) (
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
(GOAL N1 E2 N2
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT4)))
       (. .)
       (. .)))
()  0 0 40 0)
(GOAL N2 E1 N3
(^ (ELAPSED-TIME (TIME) (* 5 $DELAY)))
()  0 0 40 0)
(GOAL N3 E3 N4
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT4B)))
       (. .)
       (. .)))
()  0 0 40 0)
) )
(|Test 5| (
(INVOCATION INVOCATION (TEST5 $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N1 0 0 321 87)
(PROCESS N2 0 0 321 171)
) (
(GOAL N1 E2 N2
(! (INTENDED-GOAL-AFTER-BEFORE
       (BUILD-GOAL (! (TEST-CRIT5)))
       (. .)
       (. .)))
()  0 0 40 0)
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
) )
(|Test 6| (
(INVOCATION INVOCATION (TEST6 $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "critical and preserve." 10 113 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N1 0 0 321 63)
(PROCESS N2 0 0 321 228)
(PROCESS N3 0 0 321 295)
(PROCESS N4 0 0 321 469)
(IF N5 0 0 321 184)
(THEN N5_T 0 0 307 184)
(ELSE N5_F 0 0 342 184)
(PROCESS N6 0 0 321 106)
(IF N7 0 0 321 410)
(THEN N7_T 0 0 307 410)
(ELSE N7_F 0 0 342 410)
(PROCESS N8 0 0 321 345)
) (
(GOAL N3 E10 N8
(=> (COND6))
()  0 0 40 0)
(IF N8 E13 N7
(! (TEST-CRIT6B))
()  0 0 40 0)
(ELSE N7 E9 N7_F)
(THEN N7 E6 N7_T)
(GOAL N5_F E8 N2
(! (PRINT "Normal End"))
((472 193) (472 237) )  0 0 40 0)
(GOAL N5_T E2 N2
(! (PRINT "Error"))
((210 193) (210 237) )  0 0 40 0)
(IF N6 E1 N5
(& (! (TEST-CRIT6))
   (# (COND6)))
()  0 0 40 0)
(GOAL N1 E7 N6
(=> (COND6))
()  0 0 40 0)
(ELSE N5 E5 N5_F)
(THEN N5 E4 N5_T)
(GOAL N2 E3 N3
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
(GOAL N7_T E14 N4
(! (PRINT "Normal End"))
((187 419) (187 478) )  0 0 40 0)
(GOAL N7_F E15 N4
(! (PRINT "Error"))
((470 419) (470 478) )  0 0 40 0)
) )
(|Test 7| (
(INVOCATION INVOCATION (TEST7 $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "critical and active preserve." 10 113 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 322 10)
(PROCESS N1 0 0 333 63)
(PROCESS N2 0 0 333 228)
(PROCESS N3 0 0 333 281)
(PROCESS N4 0 0 333 429)
(IF N5 0 0 333 184)
(THEN N5_T 0 0 319 184)
(ELSE N5_F 0 0 354 184)
(PROCESS N6 0 0 333 106)
(IF N7 0 0 333 378)
(THEN N7_T 0 0 319 378)
(ELSE N7_F 0 0 354 378)
(PROCESS N8 0 0 333 326)
(PROCESS N9 0 0 333 486)
(PROCESS N10 0 0 330 547)
(IF N11 0 0 330 597)
(THEN N11_T 0 0 316 597)
(ELSE N11_F 0 0 357 597)
(PROCESS N12 0 0 330 665)
) (
(GOAL N11_T E24 N12
(! (PRINT "Error"))
((210 606) (210 674) )  0 0 40 0)
(GOAL N7_T E23 N4
(! (PRINT "Error"))
((210 387) (210 438) )  0 0 40 0)
(GOAL N11_F E22 N12
(! (PRINT "Normal End"))
((472 606) (472 674) )  0 0 40 0)
(GOAL N7_F E21 N4
(! (PRINT "Normal End"))
((472 387) (472 438) )  0 0 40 0)
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
(GOAL N2 E3 N3
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(THEN N5 E4 N5_T)
(ELSE N5 E5 N5_F)
(GOAL N1 E7 N6
(=> (COND7))
()  0 0 40 0)
(IF N6 E1 N5
(& (! (TEST-CRIT7))
   (% (COND7)))
()  0 0 40 0)
(GOAL N5_T E2 N2
(! (PRINT "Error"))
((210 193) (210 237) )  0 0 40 0)
(GOAL N5_F E8 N2
(! (PRINT "Normal End"))
((472 193) (472 237) )  0 0 40 0)
(THEN N7 E6 N7_T)
(ELSE N7 E9 N7_F)
(IF N8 E13 N7
(! (TEST-CRIT7B))
()  0 0 40 0)
(GOAL N3 E10 N8
(=> (COND7))
()  0 0 40 0)
(THEN N11 E11 N11_T)
(ELSE N11 E12 N11_F)
(GOAL N4 E16 N9
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N9 E17 N10
(=> (COND7))
()  0 0 40 0)
(IF N10 E18 N11
(! (TEST-CRIT7T))
()  0 0 40 0)
) )
(|Test 8| (
(INVOCATION INVOCATION (TEST8 $DELAY) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 128 0 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "critical and active preserve." 10 113 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N1 0 0 321 63)
(PROCESS N2 0 0 321 228)
(PROCESS N3 0 0 322 281)
(PROCESS N4 0 0 320 429)
(IF N5 0 0 321 184)
(THEN N5_T 0 0 307 184)
(ELSE N5_F 0 0 342 184)
(PROCESS N6 0 0 321 106)
(IF N7 0 0 320 378)
(THEN N7_T 0 0 306 378)
(ELSE N7_F 0 0 341 378)
(PROCESS N8 0 0 322 326)
(PROCESS N9 0 0 320 486)
(PROCESS N10 0 0 317 547)
(IF N11 0 0 317 597)
(THEN N11_T 0 0 303 597)
(ELSE N11_F 0 0 344 597)
(PROCESS N12 0 0 317 665)
) (
(GOAL N11_T E24 N12
(! (PRINT "Error"))
((210 606) (210 674) )  0 0 40 0)
(GOAL N7_T E23 N4
(! (PRINT "Error"))
((210 387) (210 438) )  0 0 40 0)
(GOAL N11_F E22 N12
(! (PRINT "Normal End"))
((472 606) (472 674) )  0 0 40 0)
(GOAL N7_F E21 N4
(! (PRINT "Normal End"))
((472 387) (472 438) )  0 0 40 0)
(IF N10 E18 N11
(! (TEST-CRIT8T))
()  0 0 40 0)
(GOAL N9 E17 N10
(=> (COND8))
()  0 0 40 0)
(GOAL N4 E16 N9
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(ELSE N11 E12 N11_F)
(THEN N11 E11 N11_T)
(GOAL N3 E10 N8
(=> (COND8))
()  0 0 40 0)
(IF N8 E13 N7
(! (TEST-CRIT8B))
()  0 0 40 0)
(ELSE N7 E9 N7_F)
(THEN N7 E6 N7_T)
(GOAL N5_F E8 N2
(! (PRINT "Normal End"))
((472 193) (472 237) )  0 0 40 0)
(GOAL N5_T E2 N2
(! (PRINT "Error"))
((210 193) (210 237) )  0 0 40 0)
(IF N6 E1 N5
(& (! (TEST-CRIT8))
   (% (COND8)))
()  0 0 40 0)
(GOAL N1 E7 N6
(=> (COND8))
()  0 0 40 0)
(ELSE N5 E5 N5_F)
(THEN N5 E4 N5_T)
(GOAL N2 E3 N3
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL START E0 N1
(=> (DELAY $DELAY))
()  0 0 40 0)
) )
(|called 6| (
(INVOCATION INVOCATION (! (CALLED-CRIT6)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Failed the maintained goal,
 inside critical section." 5 341 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 318 206)
(PROCESS N5 0 0 318 291)
(PROCESS N2 0 0 318 120)
(START START 0 0 307 18)
) (
(GOAL START E0 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N2 E7 N3
(~> (COND6))
()  0 0 40 0)
) )
(|called 7| (
(INVOCATION INVOCATION (! (CALLED-CRIT7)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Failed the maintained goal,
 inside critical section." 5 341 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 318 206)
(PROCESS N5 0 0 318 291)
(PROCESS N2 0 0 318 120)
(START START 0 0 307 18)
) (
(GOAL N2 E7 N3
(~> (COND7))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL START E0 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
) )
(|called 8| (
(INVOCATION INVOCATION (! (CALLED-CRIT8)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Failed the maintained goal,
 inside critical section." 5 341 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 318 206)
(PROCESS N5 0 0 318 291)
(PROCESS N2 0 0 318 120)
(START START 0 0 307 18)
) (
(GOAL START E0 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N2 E7 N3
(~> (COND8))
()  0 0 40 0)
) )
(|critical 1| (
(INVOCATION INVOCATION (! (TEST-CRIT1)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 315 10)
(PROCESS N2 0 0 308 209)
(PROCESS N3 0 0 308 296)
(IF N1 0 0 326 151)
(THEN N1_T 0 0 312 151)
(ELSE N1_F 0 0 347 151)
(PROCESS N4 0 0 516 213)
(PROCESS N5 0 0 326 67)
) (
(GOAL N2 E2 N3
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(GOAL N1_T E4 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -23 4 40 0)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
(IF N5 E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL START E3 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
) )
(|critical 2| (
(INVOCATION INVOCATION (! (TEST-CRIT2)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Do not end the critical section." 10 242 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N2 0 0 305 215)
(IF N1 0 0 321 90)
(THEN N1_T 0 0 307 90)
(ELSE N1_F 0 0 342 90)
(PROCESS N4 0 0 500 179)
) (
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(IF START E3 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N1_T E4 N2
(^ (ELAPSED-TIME (TIME) (* $DELAY 2)))
()  -28 7 40 0)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
) )
(|critical 3 bis| (
(INVOCATION INVOCATION (! (TEST-CRIT3B)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Start and End critical section at different levels." 6 351 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 315 10)
(PROCESS N2 0 0 308 209)
(PROCESS N3 0 0 308 296)
(IF N1 0 0 326 151)
(THEN N1_T 0 0 312 151)
(ELSE N1_F 0 0 347 151)
(PROCESS N4 0 0 516 213)
) (
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
(GOAL N1_T E4 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -45 -2 40 0)
(ELSE N1 E6 N1_F)
(THEN N1 E5 N1_T)
(GOAL N2 E2 N3
(! (END-CRITICAL))
()  0 0 40 0)
(IF START E3 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
) )
(|critical 3 ter| (
(INVOCATION INVOCATION (! (TEST-CRIT3T)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Start and End critical section at different levels." 6 351 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 315 10)
(PROCESS N2 0 0 308 209)
(PROCESS N3 0 0 308 296)
(IF N1 0 0 326 151)
(THEN N1_T 0 0 312 151)
(ELSE N1_F 0 0 347 151)
(PROCESS N4 0 0 516 213)
) (
(IF START E3 N1
(! (START-CRITICAL))
()  16 -6 40 0)
(GOAL N2 E2 N3
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(GOAL N1_T E4 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -45 -2 40 0)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
) )
(|critical 3| (
(INVOCATION INVOCATION (! (TEST-CRIT3)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Start and End critical section at different levels." 6 351 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 315 10)
(PROCESS N2 0 0 308 209)
(PROCESS N3 0 0 308 296)
(IF N1 0 0 326 151)
(THEN N1_T 0 0 312 151)
(ELSE N1_F 0 0 347 151)
(PROCESS N4 0 0 516 213)
) (
(IF START E3 N1
(! (START-CRITICAL))
()  0 0 40 0)
(GOAL N2 E2 N3
(! (END-CRITICAL))
()  0 0 40 0)
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(GOAL N1_T E4 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -35 -3 40 0)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
) )
(|critical 4 bis| (
(INVOCATION INVOCATION (! (TEST-CRIT4B)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 315 8)
(PROCESS N3 0 0 358 489)
(IF N1 0 0 324 123)
(THEN N1_T 0 1 310 123)
(ELSE N1_F 0 0 345 123)
(PROCESS N4 0 0 516 213)
(PROCESS N5 1 0 257 384)
(PROCESS N6 0 0 190 215)
(PROCESS N7 0 0 337 217)
(PROCESS N8 0 0 337 298)
(PROCESS N9 0 0 190 300)
(IF N0 0 0 256 436)
(THEN N0_T 0 0 242 436)
(ELSE N0_F 0 0 277 436)
) (
(IF START E3 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N1_F E0 N4
(! (PRINT "Start Critical failed"))
()  40 -7 40 0)
(ELSE N1 E6 N1_F)
(THEN N1 E5 N1_T)
(GOAL N1_T E8 N6
(! (PRINT "thread 1 debut"))
()  -20 -8 40 0)
(GOAL N1_T E9 N7
(! (PRINT "thread 2 debut"))
()  16 13 40 0)
(GOAL N9 E10 N5
(! (PRINT "thread 1 fin"))
()  -55 0 40 0)
(GOAL N8 E11 N5
(! (PRINT "thread 2 fin"))
()  65 0 40 0)
(GOAL N6 E1 N9
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -15 -14 40 0)
(GOAL N7 E4 N8
(^ (ELAPSED-TIME (TIME) $DELAY))
()  14 6 40 0)
(THEN N0 E7 N0_T)
(ELSE N0 E12 N0_F)
(GOAL N0_F E13 N3
(! (PRINT "End Critical failed"))
()  68 0 40 0)
(IF N5 E14 N0
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
) )
(|critical 4| (
(INVOCATION INVOCATION (! (TEST-CRIT4)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 450 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 315 10)
(PROCESS N3 0 0 323 493)
(IF N1 0 0 324 123)
(THEN N1_T 0 1 310 123)
(ELSE N1_F 0 0 345 123)
(PROCESS N4 0 0 516 213)
(PROCESS N5 0 0 257 384)
(PROCESS N6 0 0 190 215)
(PROCESS N7 0 0 337 217)
(PROCESS N8 0 0 337 298)
(PROCESS N9 0 0 190 300)
(IF N0 0 0 255 439)
(THEN N0_T 0 0 241 439)
(ELSE N0_F 0 0 276 439)
) (
(GOAL N7 E4 N8
(^ (ELAPSED-TIME (TIME) $DELAY))
()  14 6 40 0)
(GOAL N6 E1 N9
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -15 -14 40 0)
(GOAL N8 E11 N5
(! (PRINT "thread 2 fin"))
()  65 0 40 0)
(GOAL N9 E10 N5
(! (PRINT "thread 1 fin"))
()  -55 0 40 0)
(GOAL N1_T E9 N7
(! (PRINT "thread 2 debut"))
()  16 13 40 0)
(GOAL N1_T E8 N6
(! (PRINT "thread 1 debut"))
()  -20 -8 40 0)
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(GOAL N1_F E0 N4
(! (PRINT "Start Critical failed"))
()  40 -7 40 0)
(IF START E3 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(THEN N0 E7 N0_T)
(ELSE N0 E12 N0_F)
(IF N5 E13 N0
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N0_F E2 N3
(! (PRINT "End Critical failed"))
()  65 -2 40 0)
) )
(|critical 5| (
(INVOCATION INVOCATION (! (TEST-CRIT5)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  17 484 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 1 335 6)
(PROCESS N3 0 0 197 494)
(IF N1 0 0 213 214)
(THEN N1_T 0 0 199 214)
(ELSE N1_F 0 0 234 214)
(PROCESS N4 0 0 371 282)
(PROCESS N5 0 0 505 322)
(PROCESS N7 0 0 501 71)
(PROCESS N8 0 0 503 197)
(PROCESS N9 0 0 213 147)
(PROCESS N2 0 0 213 69)
(PROCESS N13 0 0 194 320)
(PROCESS N6 0 0 195 402)
) (
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
(ELSE N1 E6 N1_F)
(THEN N1 E5 N1_T)
(GOAL N8 E11 N5
(! (PRINT "thread 2 fin"))
()  39 0 40 0)
(GOAL N7 E4 N8
(^ (ELAPSED-TIME (TIME) (* 2 $DELAY)))
()  14 6 40 0)
(GOAL START E7 N2
(! (PRINT "thread 1 debut"))
()  -17 -6 40 0)
(GOAL N2 E9 N9
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(IF N9 E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL START E3 N7
(! (PRINT "thread 2 debut"))
()  33 -5 40 0)
(GOAL N6 E10 N3
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N1_T E2 N13
(^ (ELAPSED-TIME (TIME) (* 2 $DELAY)))
()  0 0 40 0)
(GOAL N13 E12 N6
(! (PRINT "thread 1 fin"))
()  0 0 40 0)
) )
(|critical 6 bis| (
(INVOCATION INVOCATION (! (TEST-CRIT6B)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Post and fails the preserved goal,
 inside critical section.

 The failure will not affect the critical
 section." 4 421 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 295 292)
(IF N1 0 0 398 95)
(THEN N1_T 0 0 384 95)
(ELSE N1_F 0 0 419 95)
(PROCESS N4 0 0 566 151)
(PROCESS N5 0 0 295 360)
(START START 0 0 388 12)
(PROCESS N6 0 0 295 425)
(PROCESS N2 0 0 295 155)
(IF N7 0 0 295 224)
(THEN N7_T 0 0 281 224)
(ELSE N7_F 0 0 316 224)
) (
(GOAL N7_F E12 N3
(! (PRINT "Normal"))
((433 233) (433 301) )  15 11 40 0)
(GOAL N7_T E9 N3
(! (PRINT "Error"))
((189 233) (189 301) )  4 6 40 0)
(IF N2 E8 N7
(& (! (CALLED-CRIT6))
   (# (COND6)))
()  0 0 40 0)
(ELSE N7 E11 N7_F)
(THEN N7 E10 N7_T)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  50 1 40 0)
(ELSE N1 E6 N1_F)
(THEN N1 E5 N1_T)
(IF START E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N1_T E3 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -26 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N5 E4 N6
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
) )
(|critical 6| (
(INVOCATION INVOCATION (! (TEST-CRIT6)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 92 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Failed the preserve goal,
 inside critical section.
-> Force exit the critical section." 6 201 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 295 260)
(IF N1 0 0 398 95)
(THEN N1_T 0 0 384 95)
(ELSE N1_F 0 0 419 95)
(PROCESS N4 0 0 573 172)
(PROCESS N5 0 0 295 322)
(START START 0 0 388 12)
(PROCESS N6 0 0 295 402)
(PROCESS N2 0 0 295 177)
) (
(GOAL N2 E7 N3
(~> (COND6))
()  0 0 40 0)
(GOAL N5 E4 N6
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N1_T E3 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(IF START E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
) )
(|critical 7 bis| (
(INVOCATION INVOCATION (! (TEST-CRIT7B)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Post and fails the preserved goal,
 inside critical section.

 The failure will not affect the critical
 section." 4 421 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 295 292)
(IF N1 0 0 398 95)
(THEN N1_T 0 0 384 95)
(ELSE N1_F 0 0 419 95)
(PROCESS N4 0 0 566 151)
(PROCESS N5 0 0 295 360)
(START START 0 0 388 12)
(PROCESS N6 0 0 295 425)
(PROCESS N2 0 0 295 155)
(IF N7 0 0 295 224)
(THEN N7_T 0 0 281 224)
(ELSE N7_F 0 0 316 224)
) (
(GOAL N5 E4 N6
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N1_T E3 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -26 0 40 0)
(IF START E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  50 1 40 0)
(THEN N7 E10 N7_T)
(ELSE N7 E11 N7_F)
(IF N2 E8 N7
(& (! (CALLED-CRIT7))
   (% (COND7)))
()  0 0 40 0)
(GOAL N7_T E9 N3
(! (PRINT "Error"))
((189 233) (189 301) )  4 6 40 0)
(GOAL N7_F E12 N3
(! (PRINT "Normal"))
((433 233) (433 301) )  15 11 40 0)
) )
(|critical 7 ter| (
(INVOCATION INVOCATION (! (TEST-CRIT7T)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Post and fails the preserved goal,
 inside critical section.
 The Preserve Goal is posted in a sub OP.

 The failure will not affect the critical
 section." 8 426 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 295 292)
(IF N1 0 0 398 95)
(THEN N1_T 0 0 384 95)
(ELSE N1_F 0 0 419 95)
(PROCESS N4 0 0 566 151)
(PROCESS N5 0 0 295 360)
(START START 0 0 388 12)
(PROCESS N6 0 0 295 425)
(PROCESS N2 0 0 295 155)
(IF N7 0 0 295 224)
(THEN N7_T 0 0 281 224)
(ELSE N7_F 0 0 316 224)
) (
(GOAL N7_F E12 N3
(! (PRINT "Error"))
((433 233) (433 301) )  15 11 40 0)
(GOAL N7_T E9 N3
(! (PRINT "Normal"))
((189 233) (189 301) )  4 6 40 0)
(IF N2 E8 N7
(! (SUB-CRIT7T))
()  0 0 40 0)
(ELSE N7 E11 N7_F)
(THEN N7 E10 N7_T)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  50 1 40 0)
(ELSE N1 E6 N1_F)
(THEN N1 E5 N1_T)
(IF START E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N1_T E3 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -26 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N5 E4 N6
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
) )
(|critical 7| (
(INVOCATION INVOCATION (! (TEST-CRIT7)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 92 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Failed the preserve goal,
 inside critical section.
-> Force exit the critical section." 6 201 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 295 260)
(IF N1 0 0 398 95)
(THEN N1_T 0 0 384 95)
(ELSE N1_F 0 0 419 95)
(PROCESS N4 0 0 573 172)
(PROCESS N5 0 0 295 322)
(START START 0 0 388 12)
(PROCESS N6 0 0 295 402)
(PROCESS N2 0 0 295 177)
) (
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
(ELSE N1 E6 N1_F)
(THEN N1 E5 N1_T)
(IF START E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N1_T E3 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N5 E4 N6
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N2 E7 N3
(~> (COND7))
()  0 0 40 0)
) )
(|critical 8 bis| (
(INVOCATION INVOCATION (! (TEST-CRIT8B)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Post and fails the preserved goal,
 inside critical section.

 The failure will not affect the critical
 section." 4 421 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 295 292)
(IF N1 0 0 398 95)
(THEN N1_T 0 0 384 95)
(ELSE N1_F 0 0 419 95)
(PROCESS N4 0 0 566 151)
(PROCESS N5 0 0 295 360)
(START START 0 0 388 12)
(PROCESS N6 0 0 295 425)
(PROCESS N2 0 0 295 155)
(IF N7 0 0 295 224)
(THEN N7_T 0 0 281 224)
(ELSE N7_F 0 0 316 224)
) (
(GOAL N7_T E13 N3
(! (PRINT "Normal"))
((210 233) (210 301) )  0 0 40 0)
(GOAL N7_F E7 N3
(! (PRINT "Error"))
((406 233) (406 301) )  0 0 40 0)
(IF N2 E8 N7
(& (! (CALLED-CRIT8))
   (% (COND8)))
()  0 0 40 0)
(ELSE N7 E11 N7_F)
(THEN N7 E10 N7_T)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  50 1 40 0)
(ELSE N1 E6 N1_F)
(THEN N1 E5 N1_T)
(IF START E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N1_T E3 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -26 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N5 E4 N6
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
) )
(|critical 8 ter| (
(INVOCATION INVOCATION (! (TEST-CRIT8T)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Post and fails the preserved goal,
 inside critical section.
 The Preserve Goal is posted in a sub OP.

 The failure will not affect the critical
 section." 8 426 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 295 292)
(IF N1 0 0 398 95)
(THEN N1_T 0 0 384 95)
(ELSE N1_F 0 0 419 95)
(PROCESS N4 0 0 566 151)
(PROCESS N5 0 0 295 360)
(START START 0 0 388 12)
(PROCESS N6 0 0 295 425)
(PROCESS N2 0 0 295 155)
(IF N7 0 0 295 224)
(THEN N7_T 0 0 281 224)
(ELSE N7_F 0 0 316 224)
) (
(GOAL N5 E4 N6
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N1_T E3 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  -26 0 40 0)
(IF START E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  50 1 40 0)
(THEN N7 E10 N7_T)
(ELSE N7 E11 N7_F)
(IF N2 E8 N7
(! (SUB-CRIT8T))
()  0 0 40 0)
(GOAL N7_T E9 N3
(! (PRINT "Normal"))
((189 233) (189 301) )  4 6 40 0)
(GOAL N7_F E12 N3
(! (PRINT "Error"))
((433 233) (433 301) )  15 11 40 0)
) )
(|critical 8| (
(INVOCATION INVOCATION (! (TEST-CRIT8)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 92 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Failed the preserve goal,
 inside critical section.
-> Force exit the critical section." 6 201 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 295 260)
(IF N1 0 0 398 95)
(THEN N1_T 0 0 384 95)
(ELSE N1_F 0 0 419 95)
(PROCESS N4 0 0 573 172)
(PROCESS N5 0 0 295 322)
(START START 0 0 388 12)
(PROCESS N6 0 0 295 402)
(PROCESS N2 0 0 295 177)
) (
(GOAL N2 E7 N3
(~> (COND8))
()  0 0 40 0)
(GOAL N5 E4 N6
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N1_T E3 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(IF START E1 N1
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
(THEN N1 E5 N1_T)
(ELSE N1 E6 N1_F)
(GOAL N1_F E0 N4
(! (PRINT "Critical failed"))
()  40 -7 40 0)
) )
(|end-critical| (
(INVOCATION INVOCATION (! (END-CRITICAL)) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 242 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N0 0 0 321 119)
) (
(GOAL START E0 N0
(! (END-CRITICAL-SECTION))
()  0 0 40 0)
) )
(|restore 7| (
(INVOCATION INVOCATION (% (COND7)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 116 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS ((=> (COND7))) 8 174 1 60 0 )
(DOCUMENTATION DOCUMENTATION "Failed to restore active preserve condition." 8 251 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 318 206)
(PROCESS N2 0 0 318 120)
(START START 0 0 307 18)
) (
(GOAL START E0 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N2 E7 N3
(! (FAILED))
()  0 0 40 0)
) )
(|restore 8| (
(INVOCATION INVOCATION (% (COND8)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 116 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS ((=> (COND8))) 8 174 1 60 0 )
(DOCUMENTATION DOCUMENTATION "Succeed to restore active preserve condition." 8 251 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 318 206)
(PROCESS N2 0 0 318 120)
(START START 0 0 307 18)
) (
(GOAL N2 E7 N3
(! (SUCCEED))
()  0 0 40 0)
(GOAL START E0 N2
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
) )
(|start-critical| (
(INVOCATION INVOCATION (! (START-CRITICAL)) 10 50 1 60 0 )
(CONTEXT CONTEXT  10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION  10 242 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(START START 0 0 310 10)
(PROCESS N0 0 0 321 119)
) (
(GOAL START E0 N0
(! (START-CRITICAL-SECTION))
()  0 0 40 0)
) )
(|sub-critical 7 ter| (
(INVOCATION INVOCATION (! (SUB-CRIT7T)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Post and fails the preserved goal,
 inside critical section.

 The failure will not affect the critical
 section." 3 305 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 337 244)
(PROCESS N5 0 0 335 326)
(START START 0 0 326 17)
(PROCESS N0 0 0 337 92)
(IF N7 0 0 337 166)
(THEN N7_T 0 0 323 166)
(ELSE N7_F 0 0 358 166)
) (
(GOAL N7_F E12 N3
(! (PRINT "Normal"))
((454 175) (454 253) )  17 1 40 0)
(GOAL N7_T E9 N3
(! (PRINT "Error"))
((245 175) (245 253) )  4 6 40 0)
(IF N0 E8 N7
(& (! (CALLED-CRIT7))
   (% (COND7)))
()  0 0 40 0)
(ELSE N7 E11 N7_F)
(THEN N7 E10 N7_T)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL START E0 N0
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
) )
(|sub-critical 8 ter| (
(INVOCATION INVOCATION (! (SUB-CRIT8T)) 10 50 1 60 0 )
(CONTEXT CONTEXT (DELAY $DELAY) 10 150 1 60 0 )
(SETTING SETTING  10 250 0 60 0 )
(EFFECTS EFFECTS () 10 350 0 60 0 )
(DOCUMENTATION DOCUMENTATION "Post and fails the preserved goal,
 inside critical section.

 The failure will not affect the critical
 section." 3 305 1 60 0 )
(PROPERTIES PROPERTIES () 10 400 0 60 0 )
) (
(PROCESS N3 0 0 337 244)
(PROCESS N5 0 0 335 326)
(START START 0 0 326 17)
(PROCESS N0 0 0 337 92)
(IF N7 0 0 337 166)
(THEN N7_T 0 0 323 166)
(ELSE N7_F 0 0 358 166)
) (
(GOAL N7_T E3 N3
(! (PRINT "Normal"))
((228 175) (229 253) )  0 0 40 0)
(GOAL N7_F E1 N3
(! (PRINT "Error"))
((469 175) (469 252) )  0 0 40 0)
(GOAL START E0 N0
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(GOAL N3 E2 N5
(^ (ELAPSED-TIME (TIME) $DELAY))
()  0 0 40 0)
(THEN N7 E10 N7_T)
(ELSE N7 E11 N7_F)
(IF N0 E8 N7
(& (! (CALLED-CRIT8))
   (% (COND8)))
()  0 0 40 0)
) )
)
