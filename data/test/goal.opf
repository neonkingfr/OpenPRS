;;;
;;; File: /users/oprs/C/ACS/oprs-1.1/data/test/goal.opf
;;; $Id$
;;; Date: Wed Nov 17 17:06:01 1993
;;; Host: cascade
;;; OP Editor Version : 1.1.14
;;; Compiled on cascade (Wed Nov 17 16:44:13 MET 1993)
;;; OP File Format: 2
;;;
(2 
(
)
(|Iterative Factorial| (
(INVOCATION INVOCATION (! (IT-FACTORIAL $N $RESULT)) 12 31 1 80 0 )
(CONTEXT CONTEXT  10 110 0 60 0 )
(SETTING SETTING  10 210 0 60 0 )
(EFFECTS EFFECTS () 10 310 0 60 0 )
(DOCUMENTATION DOCUMENTATION "This OP  computes the Factorial of $n and unifies the result with $result.
 It uses an iterative algorithm operating on local variables." 10 410 1 60 0 )
(PROPERTIES PROPERTIES () 10 360 0 60 0 )
) (
(PROCESS N0 0 0 396 75)
(PROCESS N1 0 0 397 143)
(PROCESS S6 0 0 511 326)
(END END1 0 0 282 315)
(START START 0 0 385 11)
(IF N2 0 0 398 230)
(THEN N2_T 0 0 384 230)
(ELSE N2_F 0 0 419 230)
) (
(GOAL START E0087 N0
(! (= @TMP $N))
()  0 0 40 0)
(GOAL S6 E0128 N1
(! (= @TMP (- (CURRENT @TMP) 1)))
((641 334) (641 152) )  16 -26 40 0)
(GOAL N0 E0109 N1
(! (= @RES 1))
()  0 0 40 0)
(THEN N2 E2 N2_T)
(ELSE N2 E3 N2_F)
(IF N1 E4 N2
(? (<= @TMP 1))
()  0 0 40 0)
(GOAL N2_T E5 END1
(! (= $RESULT @RES))
()  -52 -8 40 0)
(GOAL N2_F E6 S6
(! (= @RES (* (CURRENT @RES) @TMP)))
()  26 4 40 0)
) )
(|Print Iterative Factorial| (
(INVOCATION INVOCATION (! (PRINT-FACTORIAL $X)) 11 51 1 80 0 )
(CONTEXT CONTEXT  10 110 0 60 0 )
(SETTING SETTING  10 210 0 60 0 )
(EFFECTS EFFECTS () 10 310 0 60 0 )
(DOCUMENTATION DOCUMENTATION "This OP just looks for the factorial of $x and prints the result." 10 410 1 60 0 )
(PROPERTIES PROPERTIES () 10 360 0 60 0 )
) (
(START START 0 0 378 61)
(PROCESS N1 0 0 389 146)
(END END1 0 0 384 224)
) (
(GOAL N1 E0155 END1
(! (PRINT $N))
()  0 0 40 0)
(GOAL START E0131 N1
(! (IT-FACTORIAL $X $N))
()  0 0 40 0)
) )
(|Test all after| (
(INVOCATION INVOCATION (! (TEST-GOALS2)) 12 44 1 80 0 )
(CONTEXT CONTEXT  11 111 0 60 0 )
(SETTING SETTING  10 210 0 60 0 )
(EFFECTS EFFECTS () 10 310 0 60 0 )
(DOCUMENTATION DOCUMENTATION "This OP will use the different
mechanism to intend in
parallel a  number of goals." 10 410 1 60 0 )
(PROPERTIES PROPERTIES () 10 360 0 60 0 )
) (
(PROCESS N2 0 0 314 169)
(PROCESS N3 0 0 311 225)
(PROCESS N4 0 0 312 279)
(PROCESS N5 0 0 312 342)
(PROCESS N6 0 0 312 437)
(PROCESS N7 0 0 312 504)
(PROCESS N8 0 0 314 588)
(PROCESS N9 0 0 314 682)
(PROCESS N10 0 0 310 748)
(START START 0 0 304 8)
(PROCESS N1 0 0 316 115)
) (
(GOAL N1 E15 N2
(! (= $ME (CONS (GET-CURRENT-INTENTION) (. .))))
()  -16 0 60 0)
(GOAL START E8 N1
(! (BUILD-GOAL-LIST-NO-VAR
       (. (! (PRINT-FACTORIAL 3))
          (! (PRINT-FACTORIAL 4))
          (! (PRINT-FACTORIAL 5)) .)
       $GOAL-LIST))
()  -2 5 60 0)
(GOAL N9 E23 N10
(^ (ELAPSED-TIME (TIME) 10))
()  1 -5 40 0)
(GOAL N8 E22 N9
(! (INTENDED-ALL-GOALS-//-AFTER
       $GOAL-LIST-2 (. .)))
()  0 -4 40 0)
(GOAL N7 E2 N8
(! (INTENDED-ALL-GOALS-//-AFTER
       $GOAL-LIST-2 $ALL))
()  0 0 40 0)
(GOAL N6 E3 N7
(^ (ELAPSED-TIME (TIME) 10))
()  5 -6 40 0)
(GOAL N5 E18 N6
(! (BUILD-GOAL-LIST
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 6 7 .)
       $GOAL-LIST-2))
()  35 -6 60 0)
(GOAL N3 E5 N4
(! (INTENDED-ALL-GOALS-// $GOAL-LIST))
()  0 0 40 0)
(GOAL N2 E16 N3
(! (INTENDED-ALL-GOALS-//-AFTER
       $GOAL-LIST $ME))
()  8 -2 40 0)
(GOAL N4 E0 N5
(! (= $ALL (GET-ALL-INTENTIONS)))
()  0 0 40 0)
) )
(|Test all | (
(INVOCATION INVOCATION (! (TEST-GOALS)) 12 44 1 80 0 )
(CONTEXT CONTEXT  11 111 0 60 0 )
(SETTING SETTING  10 210 0 60 0 )
(EFFECTS EFFECTS () 10 310 0 60 0 )
(DOCUMENTATION DOCUMENTATION "This OP will use the different
mechanism to intend in
parallel a number of goals." 10 410 1 60 0 )
(PROPERTIES PROPERTIES () 10 360 0 60 0 )
) (
(PROCESS N4 0 0 309 283)
(PROCESS N5 0 0 309 337)
(PROCESS N6 0 0 309 401)
(PROCESS N7 0 0 310 454)
(PROCESS N8 0 0 309 526)
(PROCESS N9 0 0 309 600)
(PROCESS N10 0 0 306 676)
(END END0 0 0 302 736)
(START START 0 0 298 4)
(PROCESS N1 0 0 309 94)
(PROCESS N2 0 0 309 169)
(PROCESS N3 0 0 309 227)
) (
(GOAL N3 E1 N4
(! (INTENDED-ALL-GOALS-// @GOAL-LIST))
()  0 -6 40 0)
(GOAL N2 E3 N3
(^ (ELAPSED-TIME (TIME) 5))
()  -1 -5 40 0)
(GOAL N1 E0 N2
(! (INTENDED-ALL-GOALS-//-AFTER
       @GOAL-LIST (. .)))
()  0 -7 40 0)
(GOAL START E8 N1
(! (BUILD-GOAL-LIST
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 4 5 .)
       @GOAL-LIST))
()  -10 0 60 0)
(GOAL N10 E20 END0
(^ (ELAPSED-TIME (TIME) 3))
()  0 0 40 0)
(GOAL N7 E11 N8
(! (BUILD-GOAL-LIST
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 6 7 .)
       @GOAL-LIST))
()  -2 0 60 0)
(GOAL N6 E5 N7
(^ (ELAPSED-TIME (TIME) 1))
()  0 -3 40 0)
(GOAL N5 E10 N6
(! (INTENDED-ALL-GOALS-//-AS-ROOTS
       @GOAL-LIST))
()  -4 -4 40 0)
(GOAL N4 E4 N5
(^ (ELAPSED-TIME (TIME) 1))
()  0 0 40 0)
(GOAL N8 E2 N9
(! (INTENDED-ALL-GOALS-//-AS-ROOTS-WITH-PRIORITY
       @GOAL-LIST (. -1 1 .)))
()  1 -9 40 0)
(GOAL N9 E6 N10
(! (INTENDED-ALL-GOALS-//-AFTER-ROOTS
       @GOAL-LIST))
()  2 -8 40 0)
) )
(|test all not // 2| (
(INVOCATION INVOCATION (! (TEST-GOAL2)) 12 44 1 80 0 )
(CONTEXT CONTEXT  11 111 0 60 0 )
(SETTING SETTING  10 210 0 60 0 )
(EFFECTS EFFECTS () 10 310 0 60 0 )
(DOCUMENTATION DOCUMENTATION "This OP will use the different
mechanism to intend goals." 10 410 1 60 0 )
(PROPERTIES PROPERTIES () 10 360 0 60 0 )
) (
(PROCESS N1 0 0 316 160)
(PROCESS N2 0 0 316 212)
(PROCESS N0 0 0 316 286)
(PROCESS N3 0 0 316 348)
(PROCESS N4 0 0 316 420)
(PROCESS N5 0 0 316 481)
(PROCESS N6 0 0 316 567)
(END END0 0 0 309 628)
(START START 0 0 305 2)
(PROCESS N8 0 0 316 98)
) (
(GOAL N8 E24 N1
(! (INTENDED-ALL-GOALS-//-AFTER
       $GOAL-LIST (. .)))
()  3 1 40 0)
(GOAL START E8 N8
(! (BUILD-GOAL-LIST
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 3 4 .)
       $GOAL-LIST))
()  37 -8 50 0)
(GOAL N6 E12 END0
(^ (ELAPSED-TIME (TIME) 3))
()  0 0 40 0)
(GOAL N5 E11 N6
(! (APPLY-TO-ALL-BEFORE-OTHER
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 5 4 3 2 1 .)))
()  1 8 50 0)
(GOAL N4 E2 N5
(^ (ELAPSED-TIME (TIME) 3))
()  0 0 40 0)
(GOAL N3 E26 N4
(! (APPLY-TO-ALL-AS-ROOTS
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 8 9 .)))
()  25 4 50 0)
(GOAL N0 E9 N3
(^ (ELAPSED-TIME (TIME) 2))
()  0 0 40 0)
(GOAL N2 E25 N0
(! (APPLY-TO-ALL-BEFORE-ME
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 6 7 .)))
()  3 2 50 0)
(GOAL N1 E4 N2
(^ (ELAPSED-TIME (TIME) 2))
()  0 0 40 0)
) )
(|test all not //| (
(INVOCATION INVOCATION (! (TEST-GOAL)) 12 44 1 80 0 )
(CONTEXT CONTEXT  11 111 0 60 0 )
(SETTING SETTING  10 210 0 60 0 )
(EFFECTS EFFECTS () 10 310 0 60 0 )
(DOCUMENTATION DOCUMENTATION "This OP will use the different 
mechanism to intend goals." 10 410 1 60 0 )
(PROPERTIES PROPERTIES () 10 360 0 60 0 )
) (
(PROCESS N1 0 0 325 139)
(PROCESS N2 0 0 325 192)
(PROCESS N0 0 0 325 255)
(PROCESS N3 0 0 326 309)
(PROCESS N4 0 0 325 403)
(PROCESS N5 0 0 324 462)
(PROCESS N6 0 0 325 534)
(PROCESS N7 0 0 324 589)
(PROCESS N9 0 0 325 649)
(PROCESS N10 0 0 320 723)
(PROCESS N11 0 0 321 782)
(PROCESS N12 0 0 322 860)
(END END0 0 0 316 923)
(START START 0 0 314 3)
(PROCESS N8 0 0 325 73)
) (
(GOAL N8 E24 N1
(! (INTENDED-ALL $GOAL-LIST))
()  0 0 40 0)
(GOAL START E8 N8
(! (BUILD-GOAL-LIST
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 3 4 .)
       $GOAL-LIST))
()  -4 11 60 0)
(GOAL N12 E7 END0
(^ (ELAPSED-TIME (TIME) 3))
()  0 0 40 0)
(GOAL N11 E10 N12
(! (INTENDED-GOAL-WITH-PRIORITY-AFTER-BEFORE
       (CAR $GOAL-LIST) 2 (. .) $ALL))
()  0 0 40 0)
(GOAL N10 E32 N11
(^ (ELAPSED-TIME (TIME) 3))
()  0 0 40 0)
(GOAL N9 E31 N10
(! (INTENDED-GOAL-AFTER-BEFORE
       (CAR $GOAL-LIST) $ME $OTHER))
()  0 -4 40 0)
(GOAL N7 E29 N9
(! (= $ALL (GET-ALL-INTENTIONS)))
()  0 -4 40 0)
(GOAL N6 E28 N7
(! (= $OTHER (GET-OTHER-INTENTIONS)))
()  0 0 40 0)
(GOAL N5 E27 N6
(! (= $ME
      (CONS
          (GET-CURRENT-INTENTION)
          (. .))))
()  1 -7 40 0)
(GOAL N4 E2 N5
(^ (ELAPSED-TIME (TIME) 3))
()  0 0 40 0)
(GOAL N3 E26 N4
(! (APPLY-TO-ALL-WITH-PRIORITY
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 6 7 .)
       (. 1 -1 .)))
()  -16 -7 60 0)
(GOAL N0 E9 N3
(^ (ELAPSED-TIME (TIME) 2))
()  0 0 40 0)
(GOAL N2 E25 N0
(! (APPLY-TO-ALL
       (LAMBDA $X (! (PRINT-FACTORIAL $X)))
       (. 6 7 .)))
()  3 -8 50 1)
(GOAL N1 E4 N2
(^ (ELAPSED-TIME (TIME) 2))
()  0 0 40 0)
) )
)
